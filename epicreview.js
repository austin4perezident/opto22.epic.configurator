// JavaScript Document, REVIEW I/O unit


function EpicReview(divContainerID, id, lookuppart, showpart, config, res){ 

	var epic = {};
	epic.searchID = '#' + divContainerID;
	epic.svgID = 'svg' + divContainerID;
	epic.bkgdWidth = 588;
	epic.bkgdHeight = 352;
	epic.marginLeft = 2;
	epic.marginTop = 2;
	epic.marginRight = 2;
	epic.marginBottom = 2;
	
	epic.configDefault = { 
		name: '',
		chassis: '',
		size: '',
		controller: 'GRV-EPIC-PR1',
		powersupply: '', 
		io_array: ['', '', '', '',	'', '', '', '', '', '', '', '', '', '', '', '', ],
		accessories: [],
	};
	
	epic.firstConfig = {};
	
	epic.config = null;
	epic.configInWaiting = null;
	
	epic.chassissize = -1;
	epic.fm = ''; //-FM or ''
	epic.currentPosition = null;
	epic.modIdsArray = ['mod0', 'mod1', 'mod2', 'mod3', 'mod4', 'mod5', 'mod6', 'mod7', 'mod8', 'mod9', 'mod10', 'mod11', 'mod12', 'mod13', 'mod14', 'mod15',];
	epic.alarmMsgArray = [];

	epic.modInWaiting = null;
	epic.modNextOverlay = null;
	epic.brainInWaiting = null;
	
	epic.panelOpen = true;
	epic.totalAI = 0;
	epic.totalAO = 0;
	epic.totalDI = 0;
	epic.totalDO = 0;
	
	epic.totalSerial = 0;
	
	epic.modcore = '<svg><g><g>	<linearGradient id="SVGID_1_h" gradientUnits="userSpaceOnUse" x1="334.0973" y1="686.1846" x2="334.0973" y2="693.2305" gradientTransform="matrix(1 0 0 1 -312.7829 -685.7074)">	<stop  offset="0.8226" style="stop-color:#262626"/><stop offset="0.8696" style="stop-color:#181818"/>	<stop offset="0.9449" style="stop-color:#060606"/>	<stop  offset="1" style="stop-color:#000000"/>	</linearGradient><rect x="12.792" y="0.461" fill="url(#SVGID_1_h)" stroke="#000000" stroke-width="0.7703" stroke-miterlimit="10" width="17.045" height="7.071"/>	<linearGradient id="SVGID_2_h" gradientUnits="userSpaceOnUse" x1="334.0973" y1="689.4626" x2="334.0973" y2="698.2967" gradientTransform="matrix(1 0 0 1 -312.7829 -685.7074)"><stop  offset="0.8226" style="stop-color:#262626"/>	<stop  offset="0.8696" style="stop-color:#181818"/><stop  offset="0.9449" style="stop-color:#060606"/>	<stop  offset="1" style="stop-color:#000000"/>	</linearGradient><rect x="0.421" y="3.735" fill="url(#SVGID_2_h)" stroke="#000000" stroke-width="0.7703" stroke-miterlimit="10" width="41.788" height="8.866"/><linearGradient id="SVGID_3_h" gradientUnits="userSpaceOnUse" x1="334.1035" y1="692.5126" x2="334.1035" y2="1020.7949" gradientTransform="matrix(1 0 0 1 -312.7829 -685.7074)"><stop  offset="0.8226" style="stop-color:#262626"/>	<stop offset="0.8696" style="stop-color:#181818"/>	<stop  offset="0.9449" style="stop-color:#060606"/>	<stop  offset="1" style="stop-color:#000000"/>	</linearGradient><path fill="url(#SVGID_3_h)" stroke="#000000" stroke-width="0.7703" stroke-miterlimit="10" d="M42.208,313.79V6.046H0.421v306.01			c0,0,5.387,23.452,24.33,23.452C43.309,335.508,42.208,313.79,42.208,313.79z"/><path fill="#333333" d="M42.153,39.177c0,41.598-34.73,18.103-34.73,61.836L7.286,269.401c0,28.996,35.197,24.759,35.197,39.577			L42.153,39.177z"/>	<path fill="#999999" d="M7.096,85.804l1.796,1.803c4.905-18.941,20.868-16.365,28.76-28.713l-2.189-1.211	C27.517,69.478,13.265,66.653,7.096,85.804z"/><path fill="#CCCCCC" d="M7.096,85.804c6.17-19.151,20.421-16.326,28.367-28.12l0.385,0.385	c-7.946,11.794-22.197,8.969-28.367,28.12L7.096,85.804z"/>	<path fill="#1A1A1A" d="M8.892,87.607c4.905-18.941,20.868-16.365,28.76-28.713l-0.193-0.193	c-7.892,12.348-23.855,9.772-28.76,28.713"/>	<g>	<g>	<g>	<path fill="#666666" d="M36.089,29.906c-0.757,2.528-2.877,5.011-5.792,5.011c-2.733,0-4.594-1.743-4.594-4.832	c0-0.059,0.002-0.12,0.005-0.18H17.2c-0.757,2.528-2.877,5.011-5.793,5.011c-2.733,0-4.594-1.743-4.594-4.832						c0-0.059,0.002-0.12,0.005-0.18H0.921c-0.004,0.113-0.009,0.225-0.009,0.338c0,5.663,3.92,9.821,10.217,9.821 c4.003,0,7.539-2.053,9.776-5.031c1.581,3.067,4.786,5.031,9.114,5.031c6.044,0,11.024-4.678,12.07-10.159H36.089z"/></g><path fill="#666666" d="M32.078,17.968c-4.003,0-7.539,2.053-9.776,5.031c-1.581-3.067-4.786-5.031-9.114-5.031	c-6.345,0-11.519,5.155-12.198,10.983h5.929c0.502-2.782,2.758-5.835,5.992-5.835c2.733,0,4.594,1.742,4.594,4.831					c0,0.326-0.03,0.662-0.085,1.004h8.389c0.502-2.782,2.759-5.835,5.992-5.835c2.733,0,4.594,1.742,4.594,4.831	c0,0.326-0.03,0.662-0.085,1.004h5.924c0.041-0.385,0.062-0.773,0.062-1.162C42.295,22.126,38.374,17.968,32.078,17.968z"/>	</g></g></g></g><g id="Layer_1" display="none">	<path display="inline" fill="#51ABFF" d="M6.9,83.3L8.6,85c4.8-18.6,20.5-16,28.2-28.1l-2.1-1.2C27,67.3,13,64.5,6.9,83.3z"/>	<path display="inline" fill="#85C4FF" d="M6.9,83.3c6-18.8,20-16,27.8-27.6l0.4,0.4c-7.8,11.6-21.7,8.8-27.8,27.6L6.9,83.3z"/>	<path display="inline" fill="#73BBFF" d="M8.7,85.1c4.8-18.6,20.5-16,28.2-28.1l-0.2-0.2C29,68.9,13.3,66.4,8.5,85"/></g></svg>'
	
	epic.m_ai = '<svg class="colorcode"><g id="r_ai"><path fill="#51ABFF" d="M7.447,84.548l1.737,1.737c4.833-18.577,20.465-16.009,28.167-28.092l-2.114-1.208	C27.459,68.539,13.489,65.745,7.447,84.548z"/><path fill="#85C4FF" d="M7.447,84.548c6.041-18.803,20.011-16.009,27.789-27.563l0.378,0.378 c-7.778,11.554-21.748,8.76-27.789,27.563L7.447,84.548z"/>	<path fill="#73BBFF" d="M9.184,86.285c4.833-18.577,20.465-16.009,28.167-28.092l-0.227-0.227	c-7.703,12.082-23.41,9.59-28.167,28.167"/>	</g></svg>';	
	
	epic.m_ao = '<svg class="colorcode"><g id="r_ao"><path fill="#09FF23" d="M7.447,84.548l1.737,1.737c4.833-18.577,20.465-16.009,28.167-28.092l-2.114-1.208	C27.459,68.539,13.489,65.745,7.447,84.548z"/><path fill="#73FF82" d="M7.447,84.548c6.041-18.803,20.011-16.009,27.789-27.563l0.378,0.378 c-7.778,11.554-21.748,8.76-27.789,27.563L7.447,84.548z"/><path fill="#82FF8F" d="M9.184,86.285c4.833-18.577,20.465-16.009,28.167-28.092l-0.227-0.227	c-7.703,12.082-23.41,9.59-28.167,28.167"/></g></svg>';
	
	epic.m_iac = '<svg class="colorcode"><g id="r_iac">	<path fill="#FFFF03" d="M7.447,84.548l1.737,1.737c4.833-18.577,20.465-16.009,28.167-28.092l-2.114-1.208	C27.459,68.539,13.489,65.745,7.447,84.548z"/><path fill="#FFFFB0" d="M7.447,84.548c6.041-18.803,20.011-16.009,27.789-27.563l0.378,0.378	c-7.778,11.554-21.748,8.76-27.789,27.563L7.447,84.548z"/>	<path fill="#FFFFB0" d="M9.184,86.285c4.833-18.577,20.465-16.009,28.167-28.092l-0.227-0.227	c-7.703,12.082-23.41,9.59-28.167,28.167"/></g></svg>';
	
	epic.m_idc = '<svg class="colorcode"><g id="r_idc">	<path fill="#DEDEDE" d="M7.447,84.548l1.737,1.737c4.833-18.577,20.465-16.009,28.167-28.092l-2.114-1.208		C27.459,68.539,13.489,65.745,7.447,84.548z"/><path fill="#FFFFFF" d="M7.447,84.548c6.041-18.803,20.011-16.009,27.789-27.563l0.378,0.378	c-7.778,11.554-21.748,8.76-27.789,27.563L7.447,84.548z"/>	<path fill="#FFFFFF" d="M9.184,86.285c4.833-18.577,20.465-16.009,28.167-28.092l-0.227-0.227	c-7.703,12.082-23.41,9.59-28.167,28.167"/></g></svg>';
	
	epic.m_oac = '<svg class="colorcode"><g id="r_oac">	<path d="M7.447,84.548l1.737,1.737c4.833-18.577,20.465-16.009,28.167-28.092l-2.114-1.208	C27.459,68.539,13.489,65.745,7.447,84.548z"/><path fill="#FFFFFF" d="M7.447,84.548c6.041-18.803,20.011-16.009,27.789-27.563l0.378,0.378	c-7.778,11.554-21.748,8.76-27.789,27.563L7.447,84.548z"/>	<path fill="#FFFFFF" d="M9.184,86.285c4.833-18.577,20.465-16.009,28.167-28.092l-0.227-0.227		c-7.703,12.082-23.41,9.59-28.167,28.167"/>	</g></svg>';
	
	epic.m_odc = '<svg class="colorcode"><g id="r_odc">	<path fill="#FF0000" d="M7.447,84.548l1.737,1.737c4.833-18.577,20.465-16.009,28.167-28.092l-2.114-1.208	C27.459,68.539,13.489,65.745,7.447,84.548z"/><path fill="#FF8787" d="M7.447,84.548c6.041-18.803,20.011-16.009,27.789-27.563l0.378,0.378	c-7.778,11.554-21.748,8.76-27.789,27.563L7.447,84.548z"/><path fill="#FF8787" d="M9.184,86.285c4.833-18.577,20.465-16.009,28.167-28.092l-0.227-0.227	c-7.703,12.082-23.41,9.59-28.167,28.167"/></g></svg>';
	
	epic.m_ser = '<svg class="colorcode"></svg>';
	
	epic.m4 = '<svg class="chanNo"><g id="c4"></g></svg>';
	
	epic.m8 = '<svg class="chanNo"><g id="r_c8"><path fill="#636363" d="M17.868,86.209c0,1.359-0.529,2.265-1.661,2.265s-1.661-0.982-1.661-2.265s0.529-2.265,1.661-2.265	C17.415,83.944,17.868,85.001,17.868,86.209z M15.603,86.209c0,0.982,0.227,1.51,0.604,1.51c0.378,0,0.604-0.529,0.604-1.51	s-0.227-1.51-0.604-1.51C15.83,84.775,15.603,85.228,15.603,86.209z"/><path fill="#636363" d="M15.981,110.353L15.981,110.353l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V110.353z"/><path fill="#636363" d="M14.621,139.291v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	c0,0.755-0.529,1.359-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V139.291z"/><path fill="#636363" d="M14.848,163.736c0.151,0.076,0.604,0.302,0.982,0.302c0.529,0,0.831-0.227,0.831-0.604	c0-0.453-0.453-0.604-0.906-0.604h-0.453v-0.755h0.378c0.378,0,0.755-0.151,0.755-0.529c0-0.227-0.227-0.453-0.68-0.453c-0.378,0-0.755,0.151-0.906,0.227l-0.227-0.755c0.227-0.151,0.755-0.302,1.359-0.302c0.906,0,1.435,0.529,1.435,1.057	c0,0.453-0.227,0.831-0.831,0.982l0,0c0.529,0.076,0.982,0.529,0.982,1.057c0,0.755-0.68,1.359-1.812,1.359	c-0.604,0-1.057-0.151-1.284-0.302L14.848,163.736z"/><path fill="#636363" d="M16.434,190.107v-1.057H14.47v-0.68l1.661-2.643h1.284v2.568h0.529v0.755h-0.529v1.057H16.434z	 M16.434,188.295v-0.982c0-0.227,0-0.529,0-0.831l0,0c-0.151,0.302-0.227,0.529-0.378,0.831l-0.604,0.982l0,0H16.434z"/><path fill="#636363" d="M17.566,211.909h-1.661l-0.076,0.68c0.076,0,0.151,0,0.302,0c0.453,0,0.831,0.076,1.133,0.302	s0.529,0.604,0.529,1.133c0,0.831-0.68,1.51-1.888,1.51c-0.529,0-0.982-0.151-1.208-0.227l0.151-0.755	c0.227,0.076,0.604,0.227,0.982,0.227c0.453,0,0.906-0.227,0.906-0.68c0-0.453-0.378-0.755-1.208-0.755	c-0.227,0-0.378,0-0.604,0.076l0.302-2.265h2.416v0.755H17.566z"/><path fill="#636363" d="M17.415,237.336c-0.151,0-0.227,0-0.378,0c-0.906,0.076-1.284,0.529-1.435,1.057l0,0	c0.227-0.227,0.529-0.378,0.906-0.378c0.755,0,1.359,0.529,1.359,1.435s-0.68,1.586-1.586,1.586c-1.133,0-1.737-0.906-1.737-1.888	c0-0.831,0.302-1.51,0.755-1.963c0.453-0.378,0.982-0.604,1.661-0.68c0.227,0,0.302,0,0.378,0v0.831H17.415z M16.887,239.526	c0-0.378-0.227-0.755-0.68-0.755c-0.302,0-0.529,0.151-0.604,0.378c0,0.076-0.076,0.151-0.076,0.227c0,0.453,0.227,0.906,0.68,0.906	C16.66,240.357,16.887,239.979,16.887,239.526z"/><path fill="#636363" d="M17.793,262.008v0.68l-1.812,3.7h-1.057l1.812-3.549l0,0h-2.039v-0.831L17.793,262.008L17.793,262.008z"/></g></svg>';
	
	epic.m12 = '<svg class="chanNo"><g id="r_c12" display="inline"><path fill="#636363" d="M17.868,86.209c0,1.359-0.529,2.265-1.661,2.265s-1.661-0.982-1.661-2.265s0.529-2.265,1.661-2.265	C17.415,83.944,17.868,85.001,17.868,86.209z M15.603,86.209c0,0.982,0.227,1.51,0.604,1.51c0.378,0,0.604-0.529,0.604-1.51	s-0.227-1.51-0.604-1.51C15.83,84.775,15.603,85.228,15.603,86.209z"/><path fill="#636363" d="M15.981,101.161L15.981,101.161l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V101.161z"/><path fill="#636363" d="M14.621,120.795v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	s-0.529,1.359-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V120.795z"/><path fill="#636363" d="M14.848,135.974c0.151,0.076,0.604,0.302,0.982,0.302c0.529,0,0.831-0.227,0.831-0.604	c0-0.453-0.453-0.604-0.906-0.604h-0.453v-0.755h0.378c0.378,0,0.755-0.151,0.755-0.529c0-0.227-0.227-0.453-0.68-0.453	c-0.378,0-0.755,0.151-0.906,0.227l-0.227-0.755c0.227-0.151,0.755-0.302,1.359-0.302c0.906,0,1.435,0.529,1.435,1.057	c0,0.453-0.227,0.831-0.831,0.982l0,0c0.529,0.076,0.982,0.529,0.982,1.057c0,0.755-0.68,1.359-1.812,1.359	c-0.604,0-1.057-0.151-1.284-0.302L14.848,135.974z"/><path fill="#636363" d="M16.434,153.116v-1.057H14.47v-0.68l1.661-2.643h1.284v2.567h0.529v0.755h-0.529v1.057H16.434z	 M16.434,151.303v-0.982c0-0.227,0-0.529,0-0.831l0,0c-0.151,0.302-0.227,0.529-0.378,0.831l-0.604,0.982l0,0H16.434z"/><path fill="#636363" d="M17.566,165.727h-1.661l-0.076,0.68c0.076,0,0.151,0,0.302,0c0.453,0,0.831,0.076,1.133,0.302	s0.529,0.604,0.529,1.133c0,0.831-0.68,1.51-1.888,1.51c-0.529,0-0.982-0.151-1.208-0.227l0.151-0.755	c0.227,0.076,0.604,0.227,0.982,0.227c0.453,0,0.906-0.227,0.906-0.68c0-0.453-0.378-0.755-1.208-0.755	c-0.227,0-0.378,0-0.604,0.076l0.302-2.265h2.416v0.755H17.566z"/><path fill="#636363" d="M17.415,181.811c-0.151,0-0.227,0-0.378,0c-0.906,0.076-1.284,0.529-1.435,1.057l0,0	c0.227-0.227,0.529-0.378,0.906-0.378c0.755,0,1.359,0.529,1.359,1.435s-0.68,1.586-1.586,1.586c-1.133,0-1.737-0.906-1.737-1.888	c0-0.831,0.302-1.51,0.755-1.963c0.453-0.378,0.982-0.604,1.661-0.68c0.227,0,0.302,0,0.378,0v0.831H17.415z M16.887,184.001	c0-0.378-0.227-0.755-0.68-0.755c-0.302,0-0.529,0.151-0.604,0.378c0,0.076-0.076,0.151-0.076,0.227	c0,0.453,0.227,0.906,0.68,0.906C16.66,184.832,16.887,184.454,16.887,184.001z"/><path fill="#636363" d="M17.793,197.292v0.68l-1.812,3.7h-1.057l1.812-3.549l0,0h-2.039v-0.831L17.793,197.292L17.793,197.292z"/><path fill="#636363" d="M14.546,216.699c0-0.529,0.302-0.906,0.755-1.133l0,0c-0.453-0.227-0.604-0.604-0.604-0.982	c0-0.755,0.68-1.208,1.51-1.208c1.057,0,1.435,0.604,1.435,1.133c0,0.378-0.227,0.755-0.604,0.982l0,0	c0.453,0.151,0.831,0.529,0.831,1.057c0,0.831-0.68,1.359-1.661,1.359C15.074,217.907,14.546,217.303,14.546,216.699z	 M16.811,216.624c0-0.378-0.302-0.604-0.68-0.755c-0.302,0.076-0.529,0.302-0.529,0.68c0,0.302,0.227,0.604,0.604,0.604	C16.585,217.228,16.811,216.926,16.811,216.624z M15.678,214.585c0,0.302,0.302,0.453,0.604,0.604	c0.227-0.076,0.453-0.302,0.453-0.529c0-0.302-0.151-0.529-0.529-0.529C15.83,214.056,15.678,214.283,15.678,214.585z"/><path fill="#636363" d="M14.923,233.237c0.151,0,0.227,0,0.453,0c0.302,0,0.604-0.076,0.831-0.302	c0.302-0.227,0.453-0.453,0.529-0.831l0,0c-0.227,0.227-0.453,0.302-0.906,0.302c-0.755,0-1.359-0.529-1.359-1.359	c0-0.831,0.68-1.586,1.661-1.586c1.133,0,1.661,0.831,1.661,1.888c0,0.906-0.302,1.586-0.755,2.039	c-0.453,0.378-0.982,0.604-1.661,0.604c-0.151,0-0.378,0-0.453,0L14.923,233.237z M15.603,231.047c0,0.378,0.227,0.68,0.604,0.68	c0.302,0,0.453-0.151,0.604-0.302c0-0.076,0.076-0.151,0.076-0.227c0-0.453-0.151-0.906-0.604-0.906S15.603,230.594,15.603,231.047	z"/><path fill="#636363" d="M15.981,246.678L15.981,246.678l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V246.678z"/><path fill="#636363" d="M21.644,247.962c0,1.359-0.529,2.265-1.661,2.265c-1.133,0-1.661-0.982-1.661-2.265	c0-1.284,0.529-2.265,1.661-2.265C21.191,245.697,21.644,246.754,21.644,247.962z M19.379,247.962c0,0.982,0.227,1.51,0.604,1.51	c0.378,0,0.604-0.529,0.604-1.51s-0.227-1.51-0.604-1.51C19.605,246.527,19.303,246.981,19.379,247.962z"/><path fill="#636363" d="M15.981,262.914L15.981,262.914l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V262.914z"/><path fill="#636363" d="M19.681,262.914L19.681,262.914l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V262.914z"/></g></svg>';
	
	epic.m24 = '<svg class="chanNo"><g id="r_c24" display="inline"><path fill="#636363" d="M17.868,86.209c0,1.359-0.529,2.265-1.661,2.265s-1.661-0.982-1.661-2.265s0.529-2.265,1.661-2.265	C17.415,83.944,17.868,85.001,17.868,86.209z M15.603,86.209c0,0.982,0.227,1.51,0.604,1.51c0.378,0,0.604-0.529,0.604-1.51	s-0.227-1.51-0.604-1.51C15.83,84.775,15.603,85.228,15.603,86.209z"/><path fill="#636363" d="M15.981,93.006L15.981,93.006l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V93.006z"/><path fill="#636363" d="M14.621,104.56v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	s-0.529,1.359-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V104.56z"/><path fill="#636363" d="M14.848,111.658c0.151,0.076,0.604,0.302,0.982,0.302c0.529,0,0.831-0.227,0.831-0.604	c0-0.453-0.453-0.604-0.906-0.604h-0.453v-0.755h0.378c0.378,0,0.755-0.151,0.755-0.529c0-0.227-0.227-0.453-0.68-0.453	c-0.378,0-0.755,0.151-0.906,0.227l-0.227-0.755c0.227-0.151,0.755-0.302,1.359-0.302c0.906,0,1.435,0.529,1.435,1.057	c0,0.453-0.227,0.831-0.831,0.982l0,0c0.529,0.076,0.982,0.529,0.982,1.057c0,0.755-0.68,1.359-1.812,1.359	c-0.604,0-1.057-0.151-1.284-0.302L14.848,111.658z"/><path fill="#636363" d="M16.434,120.795v-1.057H14.47v-0.68l1.661-2.643h1.284v2.568h0.529v0.755h-0.529v1.057L16.434,120.795	L16.434,120.795z M16.434,118.983v-0.982c0-0.227,0-0.529,0-0.831l0,0c-0.151,0.302-0.227,0.529-0.378,0.831l-0.604,0.982l0,0	H16.434z"/><path fill="#636363" d="M17.566,125.326h-1.661l-0.076,0.68c0.076,0,0.151,0,0.302,0c0.453,0,0.831,0.076,1.133,0.302	c0.302,0.227,0.529,0.604,0.529,1.133c0,0.831-0.68,1.51-1.888,1.51c-0.529,0-0.982-0.151-1.208-0.227l0.151-0.755	c0.227,0.076,0.604,0.227,0.982,0.227c0.453,0,0.906-0.227,0.906-0.68c0-0.453-0.378-0.755-1.208-0.755	c-0.227,0-0.378,0-0.604,0.076l0.302-2.265h2.416v0.755H17.566z"/><path fill="#636363" d="M17.415,133.331c-0.151,0-0.227,0-0.378,0c-0.906,0.076-1.284,0.529-1.435,1.057l0,0	c0.227-0.227,0.529-0.378,0.906-0.378c0.755,0,1.359,0.529,1.359,1.435s-0.68,1.586-1.586,1.586c-1.133,0-1.737-0.906-1.737-1.888	c0-0.831,0.302-1.51,0.755-1.963c0.453-0.378,0.982-0.604,1.661-0.68c0.227,0,0.302,0,0.378,0v0.831H17.415z M16.887,135.521	c0-0.378-0.227-0.755-0.68-0.755c-0.302,0-0.529,0.151-0.604,0.378c0,0.076-0.076,0.151-0.076,0.227	c0,0.453,0.227,0.906,0.68,0.906S16.887,135.974,16.887,135.521z"/><path fill="#636363" d="M17.793,140.656v0.68l-1.812,3.7h-1.057l1.812-3.549l0,0h-2.039v-0.831L17.793,140.656L17.793,140.656z"/><path fill="#636363" d="M14.546,151.983c0-0.529,0.302-0.906,0.755-1.133l0,0c-0.453-0.227-0.604-0.604-0.604-0.982	c0-0.755,0.68-1.208,1.51-1.208c1.057,0,1.435,0.604,1.435,1.133c0,0.378-0.227,0.755-0.604,0.982l0,0	c0.453,0.151,0.831,0.529,0.831,1.057c0,0.831-0.68,1.359-1.661,1.359C15.074,153.191,14.546,152.587,14.546,151.983z	 M16.811,151.907c0-0.378-0.302-0.604-0.68-0.755c-0.302,0.076-0.529,0.302-0.529,0.68c0,0.302,0.227,0.604,0.604,0.604	C16.585,152.511,16.811,152.285,16.811,151.907z M15.678,149.868c0,0.302,0.302,0.453,0.604,0.604	c0.227-0.076,0.453-0.302,0.453-0.529c0-0.302-0.151-0.529-0.529-0.529C15.83,149.34,15.678,149.566,15.678,149.868z"/><path fill="#636363" d="M14.923,160.441c0.151,0,0.227,0,0.453,0c0.302,0,0.604-0.076,0.831-0.302	c0.302-0.227,0.453-0.453,0.529-0.831l0,0c-0.227,0.227-0.453,0.302-0.906,0.302c-0.755,0-1.359-0.529-1.359-1.359	c0-0.831,0.68-1.586,1.661-1.586c1.133,0,1.661,0.831,1.661,1.888c0,0.906-0.302,1.586-0.755,2.039	c-0.453,0.378-0.982,0.604-1.661,0.604c-0.151,0-0.378,0-0.453,0L14.923,160.441z M15.603,158.251c0,0.378,0.227,0.68,0.604,0.68	c0.302,0,0.453-0.151,0.604-0.302c0-0.076,0.076-0.151,0.076-0.227c0-0.453-0.151-0.906-0.604-0.906S15.603,157.797,15.603,158.251	z"/><path fill="#636363" d="M15.981,165.802L15.981,165.802l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V165.802z"/><path fill="#636363" d="M21.644,167.086c0,1.359-0.529,2.265-1.661,2.265c-1.133,0-1.661-0.982-1.661-2.265	s0.529-2.265,1.661-2.265C21.191,164.82,21.644,165.878,21.644,167.086z M19.379,167.086c0,0.982,0.227,1.51,0.604,1.51	c0.378,0,0.604-0.529,0.604-1.51c0-0.982-0.227-1.51-0.604-1.51C19.605,165.651,19.303,166.104,19.379,167.086z"/><path fill="#636363" d="M15.981,173.882L15.981,173.882l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V173.882z"/><path fill="#636363" d="M19.681,173.882L19.681,173.882l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V173.882z"/><path fill="#636363" d="M15.981,182.038L15.981,182.038l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V182.038z"/><path fill="#636363" d="M18.397,185.511v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	c0,0.755-0.529,1.284-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V185.511z"/><path fill="#636363" d="M15.981,190.118L15.981,190.118l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V190.118z"/><path fill="#636363" d="M18.548,192.534c0.151,0.076,0.604,0.302,0.982,0.302c0.529,0,0.831-0.227,0.831-0.604	c0-0.453-0.453-0.604-0.906-0.604h-0.453v-0.755h0.378c0.378,0,0.755-0.151,0.755-0.529c0-0.227-0.227-0.453-0.68-0.453	c-0.378,0-0.755,0.151-0.906,0.227l-0.227-0.755c0.227-0.151,0.755-0.302,1.359-0.302c0.906,0,1.435,0.529,1.435,1.057	c0,0.453-0.227,0.831-0.831,0.982l0,0c0.529,0.076,0.982,0.529,0.982,1.057c0,0.755-0.68,1.359-1.812,1.359	c-0.604,0-1.057-0.151-1.284-0.302L18.548,192.534z"/><path fill="#636363" d="M15.981,198.198L15.981,198.198l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V198.198z"/><path fill="#636363" d="M20.209,201.672v-1.057h-1.963v-0.68l1.661-2.643h1.284v2.568h0.529v0.755h-0.529v1.057H20.209z	 M20.209,199.859v-0.982c0-0.227,0-0.529,0-0.831l0,0c-0.151,0.302-0.227,0.529-0.378,0.831l-0.604,0.982l0,0H20.209z"/><path fill="#636363" d="M15.981,206.278L15.981,206.278l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V206.278z"/><path fill="#636363" d="M21.267,206.203h-1.661l-0.076,0.68c0.076,0,0.151,0,0.302,0c0.453,0,0.831,0.076,1.133,0.302	c0.302,0.227,0.529,0.604,0.529,1.133c0,0.831-0.68,1.51-1.888,1.51c-0.529,0-0.982-0.151-1.208-0.227l0.151-0.755	c0.227,0.076,0.604,0.227,0.982,0.227c0.453,0,0.906-0.227,0.906-0.68s-0.378-0.755-1.208-0.755c-0.227,0-0.378,0-0.604,0.076	l0.302-2.265h2.416v0.755H21.267z"/><path fill="#636363" d="M15.981,214.358L15.981,214.358l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V214.358z"/><path fill="#636363" d="M21.191,214.207c-0.151,0-0.227,0-0.378,0c-0.906,0.076-1.284,0.529-1.435,1.057l0,0	c0.227-0.227,0.529-0.378,0.906-0.378c0.755,0,1.359,0.529,1.359,1.435c0,0.906-0.68,1.586-1.586,1.586	c-1.133,0-1.737-0.906-1.737-1.888c0-0.831,0.302-1.51,0.755-1.963c0.453-0.378,0.982-0.604,1.661-0.68c0.227,0,0.302,0,0.378,0	v0.831H21.191z M20.587,216.397c0-0.378-0.227-0.755-0.68-0.755c-0.302,0-0.529,0.151-0.604,0.378c0,0.076-0.076,0.151-0.076,0.227	c0,0.453,0.227,0.906,0.68,0.906C20.36,217.152,20.587,216.85,20.587,216.397z"/><path fill="#636363" d="M15.981,222.438L15.981,222.438l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V222.438z"/><path fill="#636363" d="M21.493,221.532v0.68l-1.812,3.7h-1.057l1.812-3.549l0,0h-2.039v-0.831L21.493,221.532L21.493,221.532z"/><path fill="#636363" d="M15.981,230.518L15.981,230.518l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V230.518z"/><path fill="#636363" d="M18.322,232.859c0-0.529,0.302-0.906,0.755-1.133l0,0c-0.453-0.227-0.604-0.604-0.604-0.982	c0-0.755,0.68-1.208,1.51-1.208c1.057,0,1.435,0.604,1.435,1.133c0,0.378-0.227,0.755-0.604,0.982l0,0	c0.453,0.151,0.831,0.529,0.831,1.057c0,0.831-0.68,1.359-1.661,1.359C18.85,234.067,18.322,233.463,18.322,232.859z	 M20.587,232.859c0-0.378-0.302-0.604-0.68-0.755c-0.302,0.076-0.529,0.302-0.529,0.68c0,0.302,0.227,0.604,0.604,0.604	C20.36,233.388,20.587,233.161,20.587,232.859z M19.454,230.745c0,0.302,0.302,0.453,0.604,0.604	c0.227-0.076,0.453-0.302,0.453-0.529c0-0.302-0.151-0.529-0.529-0.529C19.605,230.216,19.454,230.443,19.454,230.745z"/><path fill="#636363" d="M15.981,238.598L15.981,238.598l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V238.598z"/><path fill="#636363" d="M18.699,241.317c0.151,0,0.227,0,0.453,0c0.302,0,0.604-0.076,0.831-0.302	c0.302-0.227,0.453-0.453,0.529-0.831l0,0c-0.227,0.227-0.453,0.302-0.906,0.302c-0.755,0-1.359-0.529-1.359-1.359	c0-0.831,0.68-1.586,1.661-1.586c1.133,0,1.661,0.831,1.661,1.888c0,0.906-0.302,1.586-0.755,2.039	c-0.453,0.378-0.982,0.604-1.661,0.604c-0.151,0-0.378,0-0.453,0L18.699,241.317z M19.303,239.127c0,0.378,0.227,0.68,0.604,0.68	c0.302,0,0.453-0.151,0.604-0.302c0-0.076,0.076-0.151,0.076-0.227c0-0.453-0.151-0.906-0.604-0.906	C19.605,238.372,19.303,238.674,19.303,239.127z"/><path fill="#636363" d="M14.621,250.152v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	c0,0.755-0.529,1.284-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V250.152z"/><path fill="#636363" d="M21.644,247.962c0,1.359-0.529,2.265-1.661,2.265c-1.133,0-1.661-0.982-1.661-2.265	c0-1.284,0.529-2.265,1.661-2.265C21.191,245.697,21.644,246.754,21.644,247.962z M19.379,247.962c0,0.982,0.227,1.51,0.604,1.51	c0.378,0,0.604-0.529,0.604-1.51s-0.227-1.51-0.604-1.51C19.605,246.527,19.303,246.981,19.379,247.962z"/><path fill="#636363" d="M14.621,258.232v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	c0,0.755-0.529,1.284-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V258.232z"/><path fill="#636363" d="M19.681,254.834L19.681,254.834l-0.831,0.378l-0.151-0.755l1.133-0.529h0.831v4.38h-0.982V254.834z"/><path fill="#636363" d="M14.621,266.388v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	c0,0.755-0.529,1.284-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V266.388z"/><path fill="#636363" d="M18.397,266.388v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	c0,0.755-0.529,1.284-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V266.388z"/><path fill="#636363" d="M14.621,274.468v-0.604l0.529-0.529c0.982-0.831,1.435-1.359,1.435-1.888c0-0.378-0.227-0.604-0.755-0.604	c-0.378,0-0.68,0.227-0.906,0.378l-0.302-0.755c0.302-0.227,0.831-0.453,1.435-0.453c0.982,0,1.51,0.604,1.51,1.359	c0,0.755-0.529,1.284-1.133,1.888l-0.378,0.302l0,0h1.661v0.831h-3.096V274.468z"/><path fill="#636363" d="M18.548,273.411c0.151,0.076,0.604,0.302,0.982,0.302c0.529,0,0.831-0.227,0.831-0.604	c0-0.453-0.453-0.604-0.906-0.604h-0.453v-0.755h0.378c0.378,0,0.755-0.151,0.755-0.529c0-0.227-0.227-0.453-0.68-0.453	c-0.378,0-0.755,0.151-0.906,0.227l-0.227-0.755c0.227-0.151,0.755-0.302,1.359-0.302c0.906,0,1.435,0.529,1.435,1.057	c0,0.453-0.227,0.831-0.831,0.982l0,0c0.529,0.076,0.982,0.529,0.982,1.057c0,0.755-0.68,1.359-1.812,1.359	c-0.604,0-1.057-0.151-1.284-0.302L18.548,273.411z"/></g></svg>';
	
	this.init = init;
	function init(){
		
	//	console.log('******** epic review **********');
		if(config) {
		//	console.log('assigning config from incoming default and assign to firstConfig');
			epic.firstConfig = $.extend(true, {}, config);
			epic.config = config;
		} else {
			epic.config = $.extend(true, {}, epic.configDefault);
		}
		
	//	console.log('Get chassis: ' + epic.config.chassis);
		switch (epic.config.chassis){
			case '': 
				epic.bkgdWidth = 436;
			break;
			case '':
				epic.bkgdWidth = 622;
			break;
			case '':
				epic.bkgdWidth = 1060;
			break;
			default:
			epic.bkgdWidth = 1060;
		}
	
		//KEEP: removing the height and width dimensions to the SVG was what I needed to make the svg scalable but aligned to the top of the container.
		epic.svgtemplate = '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="component" type="iounit" id="'+epic.svgID+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 '+epic.bkgdWidth+' '+epic.bkgdHeight+'" enable-background="new 0 0 '+epic.bkgdWidth+' '+epic.bkgdHeight+'" xml:space="preserve"><rect x="0" y="0" fill="#fff" width="'+epic.bkgdWidth+'px" height="'+epic.bkgdHeight+'px"/>' + epicReviewParts + '</svg>'; //</div>
		
		$(epic.searchID).append(epic.svgtemplate);
	//	$('svg').css('border','1px solid rgba(255,100,150,.5)');
	
		epic.redrawIoUnit();
	
	}  // ************************** end of Init() ********************************* //
	
	// ******************** get config **************************** //
	epic.getConfig = function(){
		return epic.config;
	};
	
	epic.redrawIoUnit = function(){
		if(epic.config.chassis !=='') {
			$(epic.searchID).find('#chassis').attr('partNo', epic.config.chassis);
			switch (epic.config.chassis) {
				case 'GRV-EPIC-CHS16' :
					$(epic.searchID).find('g#c16r').show(); //show chassis
					$(epic.searchID).find('g#c8r').show(); //show chassis
					epic.chassissize = 16;
				break;
				
				case 'GRV-EPIC-CHS8' :
					$(epic.searchID).find('g#c8r').show()
							.siblings('g#c16r').hide(); //show chassis
					epic.chassissize = 8;
				break;
				
				case 'GRV-EPIC-CHS4' :
					$(epic.searchID).find('g#c4r').siblings('g.chassis').hide(); //show chassis
					epic.chassissize = 4;
				break;
				case 'GRV-EPIC-CHS0' :
					$(epic.searchID).find('g#c0r').siblings('g.chassis').hide(); //show chassis
					epic.chassissize = 0;
				break;
				
			}
		} else {
			epic.chassissize = 0;
			//no chassis; I hope this condition is unreachable
		}
		
		// ************************ do controller ************************** //
		if (epic.config.controller !== ''){
			$(epic.searchID).find('g#controller').show();
			if(epic.panelOpen == true) {
				$(epic.searchID).find('g#panel_open').show();
				$(epic.searchID).find('g#panel_closed').hide();
			} else {
				$(epic.searchID).find('g#panel_open').hide();
				$(epic.searchID).find('g#panel_closed').show();
			}
		} else {
			$(epic.searchID).find('g#controller').hide();
		}
		
		$(epic.searchID).find('#ctrl_txt').text(epic.config.controller)
		
		// *********************** do powersupply ************************* //
		if (epic.config.powersupply !=''){
				$(epic.searchID).find('#pwr_txt').text(epic.config.powersupply)
				$(epic.searchID).find('#rpowersupply').show();
		} else {
			$(epic.searchID).find('#pwr_image').hide();
		}

		var count8 = 0;
		var count12 = 0;
		var count24 = 0;

		// ************************* do modules ***************************** //
		
		for(var i = 0; i<16; i++){	
		//	if(i==7){
		//		console.log(epic.config.io_array[i])	
		//	}
			
			var partNo = epic.config.io_array[i];
			
				if( partNo!=''){
					var obj = lookuppart(partNo);
					
					if (obj.error == false){
						var module = $(epic.searchID).find('.rmod[pos='+i + ']');
						module.attr('partNo', obj.partNo);
						module.find('g.image').show();
						var modimage = module.find('g.image');
						modimage.children('svg').remove();
						modimage.append(epic.modcore)
						
						switch (obj.colorcode) {
							case 'ai':
						//		console.log('adding to AI')
								modimage.append(epic.m_ai);
								//<svg class="colorcode"><g id="ai">	<path fill="#51ABFF" d="M247,7.9l-1.7,1.7c18.6,4.8,16,20.5,28.1,28.2l1.2-2.1C263,28,265.8,14,247,7.9z"/>	<path fill="#85C4FF" d="M247,7.9c18.8,6,16,20,27.6,27.8l-0.4,0.4c-11.6-7.8-8.8-21.7-27.6-27.8L247,7.9z"/>	<path fill="#73BBFF" d="M245.2,9.7c18.6,4.8,16,20.5,28.1,28.2l0.2-0.2c-12.1-7.7-9.6-23.4-28.2-28.2"/></g></svg>'
							//	$(epic.searchID).find('g.image').append();
							break;
							case 'ao':
								modimage.append(epic.m_ao);
							break;
							case 'iac': 
								modimage.append(epic.m_iac);
							break;
							case 'idc':
								modimage.append(epic.m_idc);
							break;
							case 'oac':
								modimage.append(epic.m_oac);
							break;
							case 'odc':
								modimage.append(epic.m_odc);
							break;
							case 'ser':
								modimage.append(epic.m_ser);
							break;
							
							default:
							
							break;	
						}
						
						switch(obj.channels) {
							case 4:
								modimage.append(epic.m4);
							break;
							case 8:
								modimage.append(epic.m8);
								count8+=1;
							break;
							case 12:
								modimage.append(epic.m12);
								count12 += 1;
						//		console.log('channels = 12, ? '+ obj.channels)
								//Where am I?  This isn't reading the channel number correctly.
							break;
							case 24:
								modimage.append(epic.m24);
								count24+=1;
							break;
						}
							
						$(epic.searchID).find('text#mod'+i+'_txt').text(partNo)
							.siblings('text#mod'+i+'_pt').text(obj.channels);
							
					} else {
						console.log('Error, part number not recognized for ' + i)	
					}// end of error check loop
					
				} else {	//I think this loop handles a blank module (maybe not as if failed)
					var module = $(epic.searchID).find('.module[pos='+i + ']');
					module.find('g.image').hide();
					module.attr('partNo', '');
					$(epic.searchID).find('text#mod'+i+'_txt').text('')
						.siblings('text#mod'+i+'_pt').text('');
				} 
		}
			
		//redisplays the edit overlay
		if(epic.modNextOverlay!=null){ //pi.modNextOverlay and pi.ModNextPosition are set by the move up and move down functions
			epic.currentPosition = epic.ModNextPosition;
			var module = $(epic.searchID).find('#' +epic.modNextOverlay);
			//Error: This part is called when placing a new module after moving one. This situation needs to be prevented --SOLUTION:  did it by resetting epic.modNextOverlay to null when mod position is clicked.
			$(epic.searchID).find('#modoverlay').show()
				.attr('transform', module.attr('transform')) ;//get module's transform coordinates to position edit overlay
			epic.editModule(module);
		} else { }
		epic.update(); //enable when ready
	}; // *********** end redrawIoUnit

epic.update = function(){ //this is a data update and a check for conflicts.
	// do a set of counts to arrive at any needed instruction.
	var instRack = 0;
	var instMods = 0;
	var instOverRun = 0;
	var countRack = -1; //counts modules to compare to length of rack
	var rackFull = 0; 
	
	epic.alarmMsgArray = []
		
	// ******** Check for conflicts and display module warnings ******** // 
	$(epic.searchID).find('.alarm').hide();
			
	//check rack
	if (epic.config.rack ==''){
		$(epic.searchID).find("#rackalarm").show()
	}
		
	// check brain, anything to check? 
	
	// check power supply
	
	//check I/O
	for (var i=0; i<16; i++){
		var mod = '#'+ epic.modIdsArray[i];
		var partNo = $(mod).attr('partNo');
		if((i>=epic.chassissize)&&(partNo != '')){
			instOverRun = 1;
			if (i < 8){
				epic.alarmMsgArray[i] = 'Recommend larger chassis.';
			} else {
				epic.alarmMsgArray[i] = 'A larger chassis is recommended.';
			}
			
		//	epic.alarmMsgArray[i] = 'This module needs a larger chassis';
			$(mod).find('.alarm').show()
			/* no good here. The event listener gets created may times.
				.on('click', this, function(){
					alert('The chassis is too small to support the location of this module.')
				});*/
		} else {
			epic.alarmMsgArray.push('ok')
		}
	}
		
	//UI clean up
	if(epic.modNextOverlay != null){
			
	} else {
		$(epic.searchID).find('#modov').hide();
	}
		
	if(countRack == epic.chassissize - 1){
		rackFull = 1;	
	}
		
	//count point types
	epic.totalAI = 0;
	epic.totalAO = 0;
	epic.totalDI = 0;
	epic.totalDO = 0;
	epic.totalSerial = 0;
		
	for (var i=0; i<epic.config.io_array.length; i++){
		if(epic.config.io_array[i] !== "") {
			var obj = lookuppart(epic.config.io_array[i]);
				
			switch (obj.category) {
				case 1: 
					epic.totalAI += obj.channels;
				break;
				case 2: 
					epic.totalAO += obj.channels;
				break;	
				case 3: 
					epic.totalDI += obj.channels;
				break;	
				case 4: 
					epic.totalDO += obj.channels;
				break;	
				case 5: 
					epic.totalSerial += obj.channels;
				break;	
			}
			$(epic.searchID).find('#'+epic.modIdsArray[i]).find('#price').text(obj.channels);
		} else { //clear price field, which is being used to show channels
			$(epic.searchID).find('#'+epic.modIdsArray[i]).find('#price').text("");
		}
	}
	
	$(epic.searchID).find('#totalAI').text(epic.totalAI);
	$(epic.searchID).find('#totalAO').text(epic.totalAO);
	$(epic.searchID).find('#totalDI').text(epic.totalDI);
	$(epic.searchID).find('#totalDO').text(epic.totalDO);
	$(epic.searchID).find('#totalSerial').text(epic.totalSerial);
	
	};
	
}
